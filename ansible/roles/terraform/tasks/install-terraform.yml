---
  - name: Checking Terraform
    shell: which terraform
    become: false
    register: shell_result_check_terraform
    ignore_errors: True
  - debug:
      var: shell_result_check_terraform

  - name: Installing Terraform - 1
    shell: yum install -y yum-utils
    when: shell_result_check_terraform.rc != 0
    become: true
    register: shell_result_utils
  - debug:
      var: shell_result_utils

  - name: Installing Terraform - 2
    shell: yum-config-manager --add-repo https://rpm.releases.hashicorp.com/AmazonLinux/hashicorp.repo
    when: shell_result_utils.rc == 0
    become: true
    register: shell_result_utils_2
  - debug:
      var: shell_result_utils_2

  - name: Installing Terraform - 3
    shell: yum update -y
    when: shell_result_utils_2.rc == 0
    become: true
    register: shell_result_utils_3
  - debug:
      var: shell_result_utils_3

  - name: Installing Terraform - 4
    shell: yum -y install terraform
    when: shell_result_utils_3.rc == 0
    become: true
    register: shell_result_utils_4
  - debug:
      var: shell_result_utils_4

  - name: Checking Terraform installation
    shell: terraform --version
    when: shell_result_utils_4.rc == 0
    become: false
    register: shell_result_check_terraform_installation
    ignore_errors: True
  - debug:
      var: shell_result_check_terraform_installation




  


  

  
